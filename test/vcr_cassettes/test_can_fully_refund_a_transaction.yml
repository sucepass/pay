---
http_interactions:
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/zyfwpztymjqdcc5g/customers
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <customer>
          <email>test@example.com</email>
          <first-name nil="true"/>
          <last-name nil="true"/>
          <payment-method-nonce>fake-valid-visa-nonce</payment-method-nonce>
        </customer>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.101.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic NXI1OXJyeGhuODlucGM5bjowMGYwZGY3OTMwM2UxMjcwODgxZTVmZWRhNzc4ODkyNw==
  response:
    status:
      code: 201
      message: ''
    headers:
      Date:
      - Sat, 28 Mar 2020 21:28:53 GMT
      Content-Type:
      - application/xml; charset=utf-8
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      X-Authentication:
      - basic_auth
      X-User:
      - k8kdyxqxh8zjnf35
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"9973f7936fbfa2c189cabc56bb12b0c3"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Runtime:
      - '0.548630'
      X-Request-Id:
      - ba6f699a-3a3e-48c3-a7ef-28da076c20fe
      Content-Security-Policy:
      - frame-ancestors 'self'
      X-Broxyid:
      - ba6f699a-3a3e-48c3-a7ef-28da076c20fe
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAJXBf14AA7RYS2/bOBC+91cYviuSZRuxC0XdAkWCXSDZQ5tHcykokbaVSKRKUo6VX98h9bYeVjbZmznzcTgazuMznS+HKJzsCRcBoxfT2Zk1nRDqMxzQ7cX09selsZp+cT85fiIkiwh3P00mToDdhWXP13PbWjsmrJQQlP4OUWnA+jXdvMSvMo2efmPfX24ds65V6E3AhTQoisiEBuHFVPKETE2tClGfxmdRjGjakpMIBaEriZB/kQOK4pCcAdQxM7lCxDtG2/Y26NCSvRBPBLLjbE6QJNhAciLTmFxMMSxlEJGpa1u2ZVhzw179sGef7dXn5fzRMasNen8S47ftrzZk5+sLMDYBCbHIXNqGzEOhiujP+d0rvlrLx4d/NjffvqbXr8+v109fl45ZYfKPwIE0fMSxyN1AnKN0qrRNfSYBmReEISSDgTDmRIhCnqXBfFHcfy4r8sRo5khdXIH7kyAH9KZCcVp3QuRaITkhsnC8B0QOklCs4jwIC5mPwkD2HcXJFuqnRxkzIeEOoKiIu17MrHPHrIvqn5NQyVMtNlAY75Dd++HHyPkYJE3gDgL/BHQo4O+rgtzKO2tB2zB78hLylULmzezVSmFoKVdJbajj3LtAIPCsXNcROxZiSNO+EKiMU60sQKF7S58pe6FgqZJVsCyUbGMEQiSI+qSObyvLje8P8BtqsIKO6SUd4JYdVScSSsG9/V7bUEoLPCZeIKuIZMtKuUFJWATAYywkiE5ddRMKqpUVOOFwywYUYBKqQNSMHmuKLeQQB1z7Y0SMyp07s2FWHAs70ClBXF3DrAHX0gaa4GPfNygUJN9V86QKpH91ufTu7xJ8NQvx1W7/eLl++jlby5v5dvnvw0161Mn17h1BodxB1tZyqyYrYEGEtsRIeOjupIzFZ9NEQhApzjyOAqp65BbC84JSNTTNGKURofJXROSO4V8h2zJzDwVzFtPtF0L3AWdUAS4EothjB+j/pf3yRMhqVZoeos+Vaw1pAdUdfuHOVisIar4odOAKZ2Gt0ApBCeAkRhCQGwa6/HelYzjxNd+o9leyAiYST/g8iNVNNkdiVfOSPRPqRueH9Vpwx8yWhTKhwe9Ed1ZPlxaEJoAhzV1CZvZy4Z0vbLRae5jMrQ0+X+AZJvYCzRfQgXq3lrY/oE/uCY2YIfBzT0qW+toODm5kBdvFElqgSqyHLpKJcDM9wY6ZC+oYf7+HshQx2CfZDLyGZtES1regvTAI54w3Md1jKsfXhmz7uGHAsakmlTgC/51ZG8TUDeblBogn4usWAj1c9NGHOrVGvp4dKoGhFmqsuqaob4SE98GX46i5M8uydDl0ak9YkECZ3K8xaPbqfvsQjRBGyjvXOlPH5otGQiScw7+OFOYhy3y4/f5NzY9j8SnX1DhHg67VBn5W3Du4NQMbgsBpxAjohvXeg+rTK+h2USqbtLeiyXXZCIarQSdYbhahIaarEWPYrgaOY7yZZ4OsV0OGmG92TSPZb/6Zpyhojfo1U6j91yXXDLXv8vI6OWP9frpnVHH4KW5Zhv4NzKO95zT/KPx5Gx2rfcUJ/psj/8ehl59QNDQVxAFH3kWgchsDLCJHjCNaOXiI2haQN3PW4oZG/fsovusEfcph48la6cR/+29ThnsMMdNQs6eoP+Zv6McQLG2HEvnC+LMhOaICZTMdvsVSRqy5vbKhtSznjtmD6zLVHMkPD9Xm/mHdQuhBLPSL2CRXTgrlRCk7rLaGd1U3OLpL0f1j/NO+tND9Onmwrxfe/SX1HkKrs74UvWzzxKY0p4aty24INMjJBxbpfLs6fgdovU695X/x8NwenthDs3rElB41nwcn88BMHjmNx75EjX2HGv0KdZIAfMgDybvLHkhslW3lgsCySif30x8AAAD//wMA2zG8GVwXAAA=
    http_version: null
  recorded_at: Sat, 28 Mar 2020 21:28:53 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/zyfwpztymjqdcc5g/transactions
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <transaction>
          <amount>37.0</amount>
          <customer-id>402393209</customer-id>
          <options>
            <submit-for-settlement type="boolean">true</submit-for-settlement>
          </options>
          <type>sale</type>
        </transaction>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.101.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic NXI1OXJyeGhuODlucGM5bjowMGYwZGY3OTMwM2UxMjcwODgxZTVmZWRhNzc4ODkyNw==
  response:
    status:
      code: 201
      message: ''
    headers:
      Date:
      - Sat, 28 Mar 2020 21:28:54 GMT
      Content-Type:
      - application/xml; charset=utf-8
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      X-Authentication:
      - basic_auth
      X-User:
      - k8kdyxqxh8zjnf35
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"dfa42a70595ef469265479141bd8127a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Runtime:
      - '0.613278'
      X-Request-Id:
      - 5f3f87b7-fe78-490a-aab9-1e154fca7f2e
      Content-Security-Policy:
      - frame-ancestors 'self'
      X-Broxyid:
      - 5f3f87b7-fe78-490a-aab9-1e154fca7f2e
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: null
  recorded_at: Sat, 28 Mar 2020 21:28:54 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/zyfwpztymjqdcc5g/transactions/7dc1z7pj/refund
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <transaction>
          <amount>37.0</amount>
        </transaction>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.101.0
      X-Apiversion:
      - '5'
      Content-Type:
      - application/xml
      Authorization:
      - Basic NXI1OXJyeGhuODlucGM5bjowMGYwZGY3OTMwM2UxMjcwODgxZTVmZWRhNzc4ODkyNw==
  response:
    status:
      code: 422
      message: ''
    headers:
      Date:
      - Sat, 28 Mar 2020 21:28:55 GMT
      Content-Type:
      - application/xml; charset=utf-8
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      X-Authentication:
      - basic_auth
      X-User:
      - k8kdyxqxh8zjnf35
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Cache-Control:
      - no-cache
      X-Runtime:
      - '0.117541'
      X-Request-Id:
      - c89ad03b-d147-4cd8-8042-5b56c8812f76
      Content-Security-Policy:
      - frame-ancestors 'self'
      X-Broxyid:
      - c89ad03b-d147-4cd8-8042-5b56c8812f76
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAJfBf14AA6xSQU7DMBC89xWW74lboVKQHPeAxAvgAZt4G1wltmtvgOT1uE3TtKjixG1nZnc9O7LcfrcN+8QQjbMFX+VLztBWThtbF/z97TV74lu1kOBNhiG4kAWM3tmIasGYPFHxWF4Ao95jwSEE6Lk4SxTARqgoPTIy99snbVJnnJhkCtXzar18lOJUX4tAFEzZEZ73xb4tXcNVCRGluKg3My3GCDWqF7DWEQu466xmV1ZZZ5vUwwwxE1lEogZ1LsU0OLsVN3bPcMpF/Lr+WpYeArTxj5igdZ0l9bDJl+mQEdzfezopVB9gKTNaDf3uyw/Ut/uDrqp1ffQ9q2N/Kja6Wg0bv5diZKWYLf1DRMnzna/zAwAA//8DAF99t2x3AgAA
    http_version: null
  recorded_at: Sat, 28 Mar 2020 21:28:55 GMT
recorded_with: VCR 5.1.0
